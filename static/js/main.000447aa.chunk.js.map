{"version":3,"sources":["Components/Item/style.module.css","Components/NewItemForm/style.module.css","Pages/ShoppingCart/style.module.css","Components/Checkout/style.module.css","Components/ItemList/style.module.css","Components/Input/style.module.css","Store/Actions/actions.js","Store/Saga/cart.js","Store/Reducers/reducers.js","Store/store.js","Components/Item/index.jsx","Components/ItemList/index.jsx","Components/Input/index.jsx","Components/NewItemForm/index.jsx","Store/Selectors/selectors.js","Components/Checkout/index.jsx","Pages/ShoppingCart/index.jsx","router.js","index.js"],"names":["module","exports","FETCH_CART","SET_CART","ADD_TO_CART","DELETE_FROM_CART","CHANGE_QUANTITY","CART_LOADING_TOGGLE","toggleCartLoading","payload","type","changeQuantity","fetchItems","actionWatcher","rootSaga","put","axios","get","then","res","response","status","console","log","data","items","takeLatest","all","initialState","cartItems","cartLoading","total","sagaMiddleware","createSagaMiddleware","createStore","state","action","newItem","id","Math","random","filter","el","map","quantity","Number","change","applyMiddleware","run","Item","element","dispatch","useDispatch","hasImage","pic","className","styles","item","imgContainer","src","alt","noPic","itemName","name","rightSide","controls","button","onClick","price","disabled","counter","toFixed","remove","ItemList","itemList","Input","label","register","required","input","placeholder","ref","NewItemForm","useForm","handleSubmit","reset","newItemForm","onSubmit","field","submitButton","getCartItems","store","getLoading","getTotalPrice","createSelector","reduce","Checkout","useSelector","checkout","checkoutTotal","number","checkoutButton","ShoppingCart","loading","isEmpty","length","useEffect","shoppingCart","header","midSection","emptyCart","Router","render","document","getElementById"],"mappings":"gGACAA,EAAOC,QAAU,CAAC,KAAO,oBAAoB,aAAe,4BAA4B,SAAW,wBAAwB,UAAY,yBAAyB,MAAQ,qBAAqB,SAAW,wBAAwB,OAAS,sBAAsB,OAAS,sBAAsB,QAAU,uBAAuB,MAAQ,qBAAqB,MAAQ,uB,mBCApWD,EAAOC,QAAU,CAAC,YAAc,2BAA2B,MAAQ,qBAAqB,aAAe,8B,mBCAvGD,EAAOC,QAAU,CAAC,aAAe,4BAA4B,OAAS,sBAAsB,WAAa,0BAA0B,UAAY,yBAAyB,QAAU,yB,mBCAlLD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,cAAgB,6BAA6B,OAAS,sBAAsB,eAAiB,gC,mBCAlJD,EAAOC,QAAU,CAAC,SAAW,0B,mBCA7BD,EAAOC,QAAU,CAAC,MAAQ,uB,mGCDbC,EAAa,aACbC,EAAW,WACXC,EAAc,cACdC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAsB,sBAMtBC,EAAoB,SAACC,GAAD,MAAc,CAC7CC,KAAMH,EACNE,YAQWE,EAAiB,SAACF,GAAD,MAAc,CAC1CC,KAAMJ,EACNG,Y,4BCnBQG,G,WAiBAC,G,WAIeC,GArBzB,SAAUF,IAAV,uEACE,OADF,SACQG,YAAIP,GAAkB,IAD9B,OAImB,OAJnB,SAIyBQ,IAAMC,IAAN,oBAA8BC,MAAK,SAACC,GAAD,OAASA,KAJrE,UAS0B,OALlBC,EAJR,QASeC,OATf,gBAUIC,QAAQC,IAAI,2BAVhB,uBAYI,OAZJ,UAYUR,YAAIP,GAAkB,IAZhC,QAaI,OAbJ,UAaUO,aDDcN,ECCFW,EAASI,KAAKC,MDDC,CACnCf,KAAMP,EACNM,aCdF,kCDYuB,IAACA,ICZxB,GAiBA,SAAUI,IAAV,iEACE,OADF,SACQa,YAAWxB,EAAYU,GAD/B,uCAIe,SAAUE,IAAV,iEACb,OADa,SACPa,YAAI,CAACd,MADE,uC,kBCjBFe,EAAe,CAC1BC,UAAW,GACXC,aAAa,EACbC,MAAO,GCNT,IAAMC,EAAiBC,cAERC,eDMA,WAAgD,IAA/BC,EAA8B,uDAAtBP,EAAcQ,EAAQ,uCAC5D,OAAQA,EAAO1B,MACb,KAAKP,EACH,OAAO,2BACFgC,GADL,IAEEN,UAAWO,EAAO3B,UAEtB,KAAKF,EACH,OAAO,2BAAK4B,GAAZ,IAAmBL,YAAaM,EAAO3B,UACzC,KAAKL,EACH,IAAMiC,EAAO,2BACRD,EAAO3B,SADC,IAEX6B,GAAIC,KAAKC,WAEX,OAAO,2BACFL,GADL,IAEEN,UAAU,CAAEQ,GAAH,mBAAeF,EAAMN,cAElC,KAAKxB,EACH,OAAO,2BACF8B,GADL,IAEEN,UAAWM,EAAMN,UAAUY,QAAO,SAACC,GAAD,OAAQA,EAAGJ,KAAOF,EAAO3B,QAAQ6B,QAEvE,KAAKhC,EACH,OAAO,2BACF6B,GADL,IAEEN,UAAWM,EAAMN,UAAUc,KAAI,SAACD,GAAD,OAC7BA,EAAGJ,KAAOF,EAAO3B,QAAQ6B,GAAzB,2BACSI,GADT,IACaE,SAAUC,OAAOH,EAAGE,UAAYR,EAAO3B,QAAQqC,SACxDJ,OAGV,QACE,OAAOP,KCvC2BY,YAAgBf,IAExDA,EAAegB,IAAIlC,G,mCCsDJmC,EAzDF,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACRC,EAAWC,cAEXC,IAAaH,EAAQI,IAqB3B,OACE,sBAAKC,UAAWC,IAAOC,KAAvB,UACE,qBAAKF,UAAWC,IAAOE,aAAvB,SACGL,EACG,qBAAKM,IAAKT,EAAQI,IAAKM,IAAK,KAC5B,qBAAKL,UAAWC,IAAOK,MAAvB,2CAEN,qBAAKN,UAAWC,IAAOM,SAAvB,SAAkCZ,EAAQa,OAC1C,sBAAKR,UAAWC,IAAOQ,UAAvB,UACE,sBAAKT,UAAWC,IAAOS,SAAvB,UACE,wBACEV,UAAWC,IAAOU,OAClBC,QA/Bc,WACpBhB,EACExC,EAAe,CAAE2B,GAAIY,EAAQZ,GAAIQ,QAAS,EAAGsB,MAAOlB,EAAQkB,UA8BxDC,SAAUnB,EAAQN,UAAY,EAHhC,eAOA,qBAAKW,UAAWC,IAAOc,QAAvB,SAAiCpB,EAAQN,WACzC,wBAAQW,UAAWC,IAAOU,OAAQC,QAhClB,WACtBhB,EACExC,EAAe,CAAE2B,GAAIY,EAAQZ,GAAIQ,OAAQ,EAAGsB,MAAOlB,EAAQkB,UA8BvD,kBAIF,sBAAKb,UAAWC,IAAOzB,MAAvB,eACKmB,EAAQN,SAAWM,EAAQkB,OAAOG,QAAQ,MAE/C,wBAAQhB,UAAWC,IAAOgB,OAAQL,QAjCnB,WJSO,IAAC1D,EIR3B0C,GJQ2B1C,EIPV,CACb6B,GAAIY,EAAQZ,IJMwB,CAC1C5B,KAAML,EACNI,cIsBM,2B,iBC1COgE,EATE,SAAC,GAAD,IAAGhD,EAAH,EAAGA,MAAH,OACb,qBAAK8B,UAAWC,IAAOkB,SAAvB,SACGjD,EAAMkB,KAAI,SAACc,GAAD,OACT,cAAC,EAAD,CAAoBP,QAASO,GAAlBA,EAAKnB,U,yBCaTqC,EAlBD,SAAC,GAAD,QACZC,aADY,MACJ,GADI,MAEZlE,YAFY,MAEL,SAFK,MAGZ2D,gBAHY,SAIZQ,EAJY,EAIZA,SAJY,IAKZC,gBALY,gBAOV,uBACEvB,UAAWC,IAAOuB,MAClBC,YAAaJ,EACbb,KAAMa,EACNlE,KAAMA,EACN2D,SAAUA,EACVY,IAAKJ,EAAS,CAAEC,gB,iBCyBPI,EA/BK,WAAO,IAAD,EACkBC,cAAlCN,EADgB,EAChBA,SAAUO,EADM,EACNA,aAAcC,EADR,EACQA,MAE1BlC,EAAWC,cAOjB,OACE,uBAAMG,UAAWC,IAAO8B,YAAaC,SAAUH,GANhC,SAAC5D,GAChB2B,EPWmC,CACrCzC,KAAMN,EACNK,QObqBe,IACnB6D,OAIA,UACE,qBAAK9B,UAAWC,IAAOgC,MAAvB,SACE,cAAC,EAAD,CAAOZ,MAAO,OAAQC,SAAUA,EAAUC,UAAQ,MAEpD,qBAAKvB,UAAWC,IAAOgC,MAAvB,SACE,cAAC,EAAD,CACE9E,KAAM,SACNkE,MAAO,WACPC,SAAUA,EACVC,UAAQ,MAGZ,qBAAKvB,UAAWC,IAAOgC,MAAvB,SACE,cAAC,EAAD,CAAO9E,KAAM,SAAUkE,MAAO,QAASC,SAAUA,EAAUC,UAAQ,MAErE,wBAAQvB,UAAWC,IAAOiC,aAA1B,iC,yBCjCOC,EAAe,SAACC,GAAD,OAAWA,EAAM9D,WAEhC+D,EAAa,SAACD,GAAD,OAAWA,EAAM7D,aAE9B+D,EAAgBC,YAAeJ,GAAc,SAAAjE,GAAK,OAAIA,EAAMsE,QAAO,SAAC3B,EAAOX,GAAR,OAAgBW,EAASX,EAAKW,MAAQX,EAAKb,WAAW,MCWvHoD,EAZE,WACf,IAAMjE,EAAQkE,YAAYJ,GAE1B,OACE,sBAAKtC,UAAWC,IAAO0C,SAAvB,UACE,qBAAK3C,UAAWC,IAAO2C,cAAvB,oBACA,sBAAK5C,UAAWC,IAAO4C,OAAvB,cAAiCrE,EAAMwC,QAAQ,MAC/C,wBAAQhB,UAAWC,IAAO6C,eAA1B,0B,kBC2BSC,GA5BM,WACnB,IAAMnD,EAAWC,cAEX3B,EAAQwE,YAAYP,GACpBa,EAAUN,YAAYL,GAEtBY,EAA2B,IAAjB/E,EAAMgF,OAMtB,OAJAC,qBAAU,WACRvD,EVb4B,CAC9BzC,KAAMR,MUaH,IAGD,sBAAKqD,UAAWC,KAAOmD,aAAvB,UACE,qBAAKpD,UAAWC,KAAOoD,OAAvB,2BACA,sBAAKrD,UAAWC,KAAOqD,WAAvB,UACGN,EACG,qBAAKhD,UAAWC,KAAO+C,QAAvB,yBACAC,EACE,qBAAKjD,UAAWC,KAAOsD,UAAvB,8BACA,cAAC,EAAD,CAAUrF,MAAOA,IACvB,cAAC,EAAD,OAEF,cAAC,EAAD,QC9BOsF,GAAS,kBACpB,cAAC,IAAD,CAAUpB,MAAOA,EAAjB,SACE,cAAC,GAAD,O,MCFJqB,iBAAO,cAAC,GAAD,IAAWC,SAASC,eAAe,W","file":"static/js/main.000447aa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"style_item__20JlL\",\"imgContainer\":\"style_imgContainer__2pWbI\",\"itemName\":\"style_itemName__1cDMa\",\"rightSide\":\"style_rightSide__1KxeY\",\"upper\":\"style_upper__pR6kK\",\"controls\":\"style_controls__pysVI\",\"button\":\"style_button__12ORu\",\"remove\":\"style_remove__1fnXT\",\"counter\":\"style_counter__2R5FU\",\"total\":\"style_total__3FHd4\",\"noPic\":\"style_noPic__1TEht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newItemForm\":\"style_newItemForm__1k3fJ\",\"field\":\"style_field__1tGzn\",\"submitButton\":\"style_submitButton__3eCKP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shoppingCart\":\"style_shoppingCart__3aDOj\",\"header\":\"style_header__3Hvaf\",\"midSection\":\"style_midSection__1cc8x\",\"emptyCart\":\"style_emptyCart__3TTbM\",\"loading\":\"style_loading__1cyGT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkout\":\"style_checkout__3wv_b\",\"checkoutTotal\":\"style_checkoutTotal__1On3J\",\"number\":\"style_number__5qePd\",\"checkoutButton\":\"style_checkoutButton__het8n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemList\":\"style_itemList__2YSsk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"style_input__3Nksk\"};","export const FETCH_CART = \"FETCH_CART\";\nexport const SET_CART = \"SET_CART\";\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const DELETE_FROM_CART = \"DELETE_FROM_CART\";\nexport const CHANGE_QUANTITY = \"CHANGE_QUANTITY\";\nexport const CART_LOADING_TOGGLE = \"CART_LOADING_TOGGLE\";\n\nexport const fetchCart = () => ({\n  type: FETCH_CART,\n});\n\nexport const toggleCartLoading = (payload) => ({\n  type: CART_LOADING_TOGGLE,\n  payload,\n});\n\nexport const setCart = (payload) => ({\n  type: SET_CART,\n  payload,\n});\n\nexport const changeQuantity = (payload) => ({\n  type: CHANGE_QUANTITY,\n  payload,\n});\n\nexport const addToCart = (payload) => ({\n  type: ADD_TO_CART,\n  payload,\n});\n\nexport const deleteFromCart = (payload) => ({\n  type: DELETE_FROM_CART,\n  payload,\n});\n","import { put, takeLatest, all, call } from \"redux-saga/effects\";\nimport { FETCH_CART, setCart, toggleCartLoading } from \"../Actions/actions\";\nimport axios from \"axios\";\n\nfunction* fetchItems() {\n  yield put(toggleCartLoading(true));\n\n  //for deployed\n  const response = yield axios.get(`./server/db.json`).then((res) => res);\n\n  // for development purposes use this instead, sorry can't figure out how to make it work for both at the same time\n  // const response = yield axios.get(`/db.json`).then((res) => res);\n\n  if (response.status !== 200) {\n    console.log(\"Couldn't get cart items\");\n  } else {\n    yield put(toggleCartLoading(false));\n    yield put(setCart(response.data.items));\n  }\n}\n\nfunction* actionWatcher() {\n  yield takeLatest(FETCH_CART, fetchItems);\n}\n\nexport default function* rootSaga() {\n  yield all([actionWatcher()]);\n}\n","import {\n  SET_CART,\n  ADD_TO_CART,\n  DELETE_FROM_CART,\n  CHANGE_QUANTITY,\n  CART_LOADING_TOGGLE,\n} from \"../Actions/actions\";\n\nexport const initialState = {\n  cartItems: [],\n  cartLoading: false,\n  total: 0,\n};\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_CART:\n      return {\n        ...state,\n        cartItems: action.payload,\n      };\n    case CART_LOADING_TOGGLE:\n      return { ...state, cartLoading: action.payload };\n    case ADD_TO_CART:\n      const newItem = {\n        ...action.payload,\n        id: Math.random(),\n      };\n      return {\n        ...state,\n        cartItems: [newItem, ...state.cartItems],\n      };\n    case DELETE_FROM_CART:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter((el) => el.id !== action.payload.id),\n      };\n    case CHANGE_QUANTITY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map((el) =>\n          el.id === action.payload.id\n            ? { ...el, quantity: Number(el.quantity) + action.payload.change }\n            : el\n        ),\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./Saga/cart.js\";\nimport cartReducer from \"./Reducers/reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default createStore(cartReducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n","import {useDispatch} from \"react-redux\";\n\nimport { changeQuantity, deleteFromCart } from \"Store/Actions/actions\";\n\nimport styles from \"./style.module.css\";\n\nconst Item = ({ element }) => {\n  const dispatch = useDispatch()\n\n  const hasImage = !!element.pic\n\n  const handleDecrement = () => {\n      dispatch(\n        changeQuantity({ id: element.id, change: -1, price: element.price })\n      );\n  };\n  const handleIncrement = () => {\n    dispatch(\n      changeQuantity({ id: element.id, change: 1, price: element.price })\n    );\n  };\n\n  const handleDelete = () => {\n    dispatch(\n      deleteFromCart({\n        id: element.id\n      })\n    );\n  };\n\n  return (\n    <div className={styles.item}>\n      <div className={styles.imgContainer}>\n        {hasImage\n          ? <img src={element.pic} alt={\"\"} />\n          : <div className={styles.noPic}>Image will be added shortly</div>}\n      </div>\n      <div className={styles.itemName}>{element.name}</div>\n      <div className={styles.rightSide}>\n        <div className={styles.controls}>\n          <button\n            className={styles.button}\n            onClick={handleDecrement}\n            disabled={element.quantity <= 1}\n          >\n            -\n          </button>\n          <div className={styles.counter}>{element.quantity}</div>\n          <button className={styles.button} onClick={handleIncrement}>\n            +\n          </button>\n        </div>\n        <div className={styles.total}>\n          ${(element.quantity * element.price).toFixed(2)}\n        </div>\n        <button className={styles.remove} onClick={handleDelete}>\n          Remove\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Item;\n","import Item from \"Components/Item\";\n\nimport styles from  \"./style.module.css\";\n\nconst ItemList = ({ items }) => (\n    <div className={styles.itemList}>\n      {items.map((item) => (\n        <Item key={item.id} element={item} />\n      ))}\n    </div>\n);\n\n\nexport default ItemList;\n","import styles from \"./style.module.css\";\n\nconst Input = ({\n  label = \"\",\n  type = \"string\",\n  disabled = false,\n  register,\n  required = false,\n}) => (\n    <input\n      className={styles.input}\n      placeholder={label}\n      name={label}\n      type={type}\n      disabled={disabled}\n      ref={register({ required })}\n    />\n  );\n;\n\nexport default Input;\n","import {useDispatch} from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\n\nimport Input from \"Components/Input\";\n\nimport { addToCart } from \"Store/Actions/actions\";\n\nimport styles from \"./style.module.css\";\n\nconst NewItemForm = () => {\n  const { register, handleSubmit, reset } = useForm();\n\n  const dispatch = useDispatch()\n\n  const onSubmit = (data) => {\n    dispatch(addToCart(data));\n    reset();\n  };\n\n  return (\n    <form className={styles.newItemForm} onSubmit={handleSubmit(onSubmit)}>\n      <div className={styles.field}>\n        <Input label={\"name\"} register={register} required />\n      </div>\n      <div className={styles.field}>\n        <Input\n          type={\"number\"}\n          label={\"quantity\"}\n          register={register}\n          required\n        />\n      </div>\n      <div className={styles.field}>\n        <Input type={\"number\"} label={\"price\"} register={register} required />\n      </div>\n      <button className={styles.submitButton}>Add new product</button>\n    </form>\n  );\n}\n\nexport default NewItemForm;\n","import {createSelector} from \"reselect\";\n\nexport const getCartItems = (store) => store.cartItems;\n\nexport const getLoading = (store) => store.cartLoading\n\nexport const getTotalPrice = createSelector(getCartItems, items => items.reduce((price, item)=> price + (item.price * item.quantity), 0))\n","import {useSelector} from \"react-redux\";\n\nimport styles from \"./style.module.css\";\nimport {getTotalPrice} from 'Store/Selectors/selectors';\n\nconst Checkout = () => {\n  const total = useSelector(getTotalPrice)\n\n  return (\n    <div className={styles.checkout}>\n      <div className={styles.checkoutTotal}>Total:</div>\n      <div className={styles.number}>${total.toFixed(2)}</div>\n      <button className={styles.checkoutButton}>CHECKOUT</button>\n    </div>\n  )\n};\n\nexport default Checkout;\n","import {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport ItemList from \"Components/ItemList\";\nimport NewItemForm from \"Components/NewItemForm\";\nimport Checkout from \"Components/Checkout\";\nimport {fetchCart} from \"Store/Actions/actions\";\nimport {getCartItems, getLoading} from 'Store/Selectors/selectors';\n\nimport styles from \"./style.module.css\";\n\nconst ShoppingCart = () => {\n  const dispatch = useDispatch();\n\n  const items = useSelector(getCartItems)\n  const loading = useSelector(getLoading)\n\n  const isEmpty = items.length === 0\n\n  useEffect(() => {\n    dispatch(fetchCart());\n  }, []);\n\n  return (\n    <div className={styles.shoppingCart}>\n      <div className={styles.header}>SHOPPING CART</div>\n      <div className={styles.midSection}>\n        {loading\n          ? <div className={styles.loading}>Loading ...</div>\n          : isEmpty\n            ? <div className={styles.emptyCart}>No items in cart</div>\n            : <ItemList items={items}/>}\n        <Checkout/>\n      </div>\n      <NewItemForm/>\n    </div>\n  );\n};\n\nexport default ShoppingCart;\n","import { Provider } from \"react-redux\";\nimport store from \"./Store/store\";\nimport ShoppingCart from \"Pages/ShoppingCart\";\n\nexport const Router = () => (\n  <Provider store={store}>\n    <ShoppingCart />\n  </Provider>\n)\n","import {render} from 'react-dom';\nimport {Router} from \"router\";\nimport \"normalize.css\";\n\nrender(<Router/>, document.getElementById('root'));\n"],"sourceRoot":""}