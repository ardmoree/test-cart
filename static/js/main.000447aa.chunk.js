(this["webpackJsonptest-cart"]=this["webpackJsonptest-cart"]||[]).push([[0],{11:function(e,t,c){e.exports={item:"style_item__20JlL",imgContainer:"style_imgContainer__2pWbI",itemName:"style_itemName__1cDMa",rightSide:"style_rightSide__1KxeY",upper:"style_upper__pR6kK",controls:"style_controls__pysVI",button:"style_button__12ORu",remove:"style_remove__1fnXT",counter:"style_counter__2R5FU",total:"style_total__3FHd4",noPic:"style_noPic__1TEht"}},16:function(e,t,c){e.exports={newItemForm:"style_newItemForm__1k3fJ",field:"style_field__1tGzn",submitButton:"style_submitButton__3eCKP"}},17:function(e,t,c){e.exports={shoppingCart:"style_shoppingCart__3aDOj",header:"style_header__3Hvaf",midSection:"style_midSection__1cc8x",emptyCart:"style_emptyCart__3TTbM",loading:"style_loading__1cyGT"}},20:function(e,t,c){e.exports={checkout:"style_checkout__3wv_b",checkoutTotal:"style_checkoutTotal__1On3J",number:"style_number__5qePd",checkoutButton:"style_checkoutButton__het8n"}},37:function(e,t,c){e.exports={itemList:"style_itemList__2YSsk"}},38:function(e,t,c){e.exports={input:"style_input__3Nksk"}},73:function(e,t,c){"use strict";c.r(t);var a=c(21),n=c(10),r=c(14),s=c(41),i=c(5),o=c.n(i),l=c(18),u="FETCH_CART",d="SET_CART",b="ADD_TO_CART",j="DELETE_FROM_CART",m="CHANGE_QUANTITY",_="CART_LOADING_TOGGLE",O=function(e){return{type:_,payload:e}},p=function(e){return{type:m,payload:e}},h=c(36),y=c.n(h),x=o.a.mark(N),f=o.a.mark(g),v=o.a.mark(k);function N(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.b)(O(!0));case 2:return t.next=4,y.a.get("./server/db.json").then((function(e){return e}));case 4:if(200===(e=t.sent).status){t.next=9;break}console.log("Couldn't get cart items"),t.next=13;break;case 9:return t.next=11,Object(l.b)(O(!1));case 11:return t.next=13,Object(l.b)((c=e.data.items,{type:d,payload:c}));case 13:case"end":return t.stop()}var c}),x)}function g(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)(u,N);case 2:case"end":return e.stop()}}),f)}function k(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([g()]);case 2:case"end":return e.stop()}}),v)}var C=c(6),T=c(8),I={cartItems:[],cartLoading:!1,total:0};var w=Object(s.a)(),q=Object(r.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(T.a)(Object(T.a)({},e),{},{cartItems:t.payload});case _:return Object(T.a)(Object(T.a)({},e),{},{cartLoading:t.payload});case b:var c=Object(T.a)(Object(T.a)({},t.payload),{},{id:Math.random()});return Object(T.a)(Object(T.a)({},e),{},{cartItems:[c].concat(Object(C.a)(e.cartItems))});case j:return Object(T.a)(Object(T.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});case m:return Object(T.a)(Object(T.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.id===t.payload.id?Object(T.a)(Object(T.a)({},e),{},{quantity:Number(e.quantity)+t.payload.change}):e}))});default:return e}}),Object(r.a)(w));w.run(k);var A=c(0),E=c(11),L=c.n(E),R=c(3),S=function(e){var t=e.element,c=Object(n.b)(),a=!!t.pic;return Object(R.jsxs)("div",{className:L.a.item,children:[Object(R.jsx)("div",{className:L.a.imgContainer,children:a?Object(R.jsx)("img",{src:t.pic,alt:""}):Object(R.jsx)("div",{className:L.a.noPic,children:"Image will be added shortly"})}),Object(R.jsx)("div",{className:L.a.itemName,children:t.name}),Object(R.jsxs)("div",{className:L.a.rightSide,children:[Object(R.jsxs)("div",{className:L.a.controls,children:[Object(R.jsx)("button",{className:L.a.button,onClick:function(){c(p({id:t.id,change:-1,price:t.price}))},disabled:t.quantity<=1,children:"-"}),Object(R.jsx)("div",{className:L.a.counter,children:t.quantity}),Object(R.jsx)("button",{className:L.a.button,onClick:function(){c(p({id:t.id,change:1,price:t.price}))},children:"+"})]}),Object(R.jsxs)("div",{className:L.a.total,children:["$",(t.quantity*t.price).toFixed(2)]}),Object(R.jsx)("button",{className:L.a.remove,onClick:function(){var e;c((e={id:t.id},{type:j,payload:e}))},children:"Remove"})]})]})},F=c(37),B=c.n(F),G=function(e){var t=e.items;return Object(R.jsx)("div",{className:B.a.itemList,children:t.map((function(e){return Object(R.jsx)(S,{element:e},e.id)}))})},P=c(40),D=c(38),H=c.n(D),J=function(e){var t=e.label,c=void 0===t?"":t,a=e.type,n=void 0===a?"string":a,r=e.disabled,s=void 0!==r&&r,i=e.register,o=e.required,l=void 0!==o&&o;return Object(R.jsx)("input",{className:H.a.input,placeholder:c,name:c,type:n,disabled:s,ref:i({required:l})})},K=c(16),M=c.n(K),U=function(){var e=Object(P.a)(),t=e.register,c=e.handleSubmit,a=e.reset,r=Object(n.b)();return Object(R.jsxs)("form",{className:M.a.newItemForm,onSubmit:c((function(e){r({type:b,payload:e}),a()})),children:[Object(R.jsx)("div",{className:M.a.field,children:Object(R.jsx)(J,{label:"name",register:t,required:!0})}),Object(R.jsx)("div",{className:M.a.field,children:Object(R.jsx)(J,{type:"number",label:"quantity",register:t,required:!0})}),Object(R.jsx)("div",{className:M.a.field,children:Object(R.jsx)(J,{type:"number",label:"price",register:t,required:!0})}),Object(R.jsx)("button",{className:M.a.submitButton,children:"Add new product"})]})},Y=c(20),$=c.n(Y),z=c(39),Q=function(e){return e.cartItems},V=function(e){return e.cartLoading},W=Object(z.a)(Q,(function(e){return e.reduce((function(e,t){return e+t.price*t.quantity}),0)})),X=function(){var e=Object(n.c)(W);return Object(R.jsxs)("div",{className:$.a.checkout,children:[Object(R.jsx)("div",{className:$.a.checkoutTotal,children:"Total:"}),Object(R.jsxs)("div",{className:$.a.number,children:["$",e.toFixed(2)]}),Object(R.jsx)("button",{className:$.a.checkoutButton,children:"CHECKOUT"})]})},Z=c(17),ee=c.n(Z),te=function(){var e=Object(n.b)(),t=Object(n.c)(Q),c=Object(n.c)(V),a=0===t.length;return Object(A.useEffect)((function(){e({type:u})}),[]),Object(R.jsxs)("div",{className:ee.a.shoppingCart,children:[Object(R.jsx)("div",{className:ee.a.header,children:"SHOPPING CART"}),Object(R.jsxs)("div",{className:ee.a.midSection,children:[c?Object(R.jsx)("div",{className:ee.a.loading,children:"Loading ..."}):a?Object(R.jsx)("div",{className:ee.a.emptyCart,children:"No items in cart"}):Object(R.jsx)(G,{items:t}),Object(R.jsx)(X,{})]}),Object(R.jsx)(U,{})]})},ce=function(){return Object(R.jsx)(n.a,{store:q,children:Object(R.jsx)(te,{})})};c(72);Object(a.render)(Object(R.jsx)(ce,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.000447aa.chunk.js.map