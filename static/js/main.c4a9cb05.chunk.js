(this["webpackJsonptest-cart"]=this["webpackJsonptest-cart"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(16),i=c.n(n),r=c(9),s=(c(35),c(36),"FETCH_CART"),o="SET_CART",d="ADD_TO_CART",l="DELETE_FROM_CART",u="CHANGE_QUANTITY",j="CART_LOADING_TOGGLE",b=function(e){return{type:j,payload:e}},m=function(e){return{type:u,payload:e}},p=c(3),O=Object(r.b)((function(e,t){return{item:e.cartItems.find((function(e){return e.id===t.element.id}))}}))((function(e){var t=e.element,c=e.item,a=e.dispatch;return Object(p.jsxs)("div",{className:"item",children:[Object(p.jsxs)("div",{className:"imgContainer",children:[t.pic&&Object(p.jsx)("img",{src:t.pic,alt:""}),!t.pic&&Object(p.jsx)("div",{className:"noPic",children:"Image will be added shortly"})]}),Object(p.jsx)("div",{className:"itemName",children:t.name}),Object(p.jsxs)("div",{className:"rightSide",children:[Object(p.jsxs)("div",{className:"controls",children:[Object(p.jsx)("button",{className:"button",onClick:function(){c.quantity>0&&a(m({id:t.id,change:-1,price:t.price}))},disabled:c.quantity<=0,children:"-"}),Object(p.jsx)("div",{className:"counter",children:c.quantity}),Object(p.jsx)("button",{className:"button",onClick:function(){a(m({id:t.id,change:1,price:t.price}))},children:"+"})]}),Object(p.jsxs)("div",{className:"total",children:["$",(c.quantity*t.price).toFixed(2)]}),Object(p.jsx)("button",{className:"remove",onClick:function(){var e;a((e={id:t.id,quantity:c.quantity,price:t.price},{type:l,payload:e}))},children:"Remove"})]})]})})),h=function(e){var t=e.items;return Object(p.jsx)("div",{className:"itemList",children:t.map((function(e){return Object(p.jsx)(O,{element:e},e.id)}))})},f=(c(38),c(39),function(e){var t=e.label,c=void 0===t?"":t,a=e.type,n=void 0===a?"string":a,i=(e.value,e.disabled),r=void 0!==i&&i,s=e.register,o=e.required,d=void 0!==o&&o;return Object(p.jsx)("input",{className:"input",placeholder:c,name:c,type:n,disabled:r,ref:s({required:d})})}),x=c(23),v=Object(r.b)()((function(e){var t=e.dispatch,c=Object(x.a)(),a=c.register,n=c.handleSubmit;return Object(p.jsxs)("form",{className:"newItemForm",onSubmit:n((function(e){t({type:d,payload:e})})),children:[Object(p.jsx)("div",{className:"field",children:Object(p.jsx)(f,{label:"name",register:a,required:!0})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)(f,{label:"quantity",register:a,required:!0})}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)(f,{label:"price",register:a,required:!0})}),Object(p.jsx)("button",{className:"submitButton",children:"Add new product"})]})})),y=(c(41),Object(r.b)((function(e){return{total:e.total}}))((function(e){e.element;var t=e.total;return Object(p.jsxs)("div",{className:"checkout",children:[Object(p.jsx)("div",{className:"checkoutTotal",children:"Total:"}),Object(p.jsxs)("div",{className:"number",children:["$",t]}),Object(p.jsx)("button",{className:"checkoutButton",children:"CHECKOUT"})]})}))),N=(c(42),Object(r.b)((function(e){return{items:e.cartItems,loading:e.cartLoading}}))((function(e){var t=e.items,c=e.loading,n=Object(r.c)();return Object(a.useEffect)((function(){n({type:s})}),[]),Object(p.jsxs)("div",{className:"shoppingCart",children:[Object(p.jsx)("div",{className:"header",children:"SHOPPING CART"}),Object(p.jsxs)("div",{className:"midSection",children:[t.length>0&&!c&&Object(p.jsx)(h,{items:t}),!c&&0===t.length&&Object(p.jsx)("div",{className:"emptyCart",children:"No items in cart"}),c&&Object(p.jsx)("div",{children:"Loading ..."}),Object(p.jsx)(y,{})]}),Object(p.jsx)(v,{})]})}))),g=function(){return Object(p.jsx)("div",{className:"App",style:{height:"100vh",backgroundColor:"#edf3f9"},children:Object(p.jsx)(N,{})})},C=c(12),q=c(24),T=c(5),I=c.n(T),w=c(14),A=I.a.mark(_),k=I.a.mark(F),E=I.a.mark(L);function _(){var e;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.b)(b(!0));case 2:return t.next=4,fetch("".concat(window.location.origin,"/server/db.json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:return e=t.sent,t.next=7,Object(w.b)(b(!1));case 7:return t.next=9,Object(w.b)((c=e.items,{type:o,payload:c}));case 9:case"end":return t.stop()}var c}),A)}function F(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.c)(s,_);case 2:case"end":return e.stop()}}),k)}function L(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([F()]);case 2:case"end":return e.stop()}}),E)}var R=c(6),S=c(8),G={cartItems:[],cartLoading:!1,total:0},D=Object(q.a)(),H=Object(C.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var c=0;return t.payload.forEach((function(e){c+=e.quantity*e.price})),Object(S.a)(Object(S.a)({},e),{},{cartItems:t.payload,total:c.toFixed(2)});case j:return Object(S.a)(Object(S.a)({},e),{},{cartLoading:t.payload});case d:var a=Object(S.a)({},t.payload);return Object(S.a)(Object(S.a)({},e),{},{total:(Number(e.total)+t.payload.price*t.payload.quantity).toFixed(2),cartItems:[a].concat(Object(R.a)(e.cartItems))});case l:return Object(S.a)(Object(S.a)({},e),{},{total:(Number(e.total)-t.payload.price*t.payload.quantity).toFixed(2),cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});case u:return Object(S.a)(Object(S.a)({},e),{},{total:(Number(e.total)+t.payload.change*Number(t.payload.price)).toFixed(2),cartItems:e.cartItems.map((function(e){return e.id===t.payload.id?Object(S.a)(Object(S.a)({},e),{},{quantity:Number(e.quantity)+t.payload.change}):e}))});default:return e}}),Object(C.a)(D));D.run(L);c(43);i.a.render(Object(p.jsx)(r.a,{store:H,children:Object(p.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c4a9cb05.chunk.js.map