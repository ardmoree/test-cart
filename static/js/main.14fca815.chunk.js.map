{"version":3,"sources":["Store/Actions/actions.js","Components/Pages/ShoppingCart/ItemList/Item/index.jsx","Components/Pages/ShoppingCart/ItemList/index.jsx","Components/UI/Input/index.jsx","Components/Pages/ShoppingCart/NewItemForm/index.jsx","Components/Pages/ShoppingCart/Checkout/index.jsx","Components/Pages/ShoppingCart/index.jsx","App.js","Store/Saga/cart.js","Store/Reducers/reducers.js","Store/store.js","index.js"],"names":["FETCH_CART","SET_CART","ADD_TO_CART","DELETE_FROM_CART","CHANGE_QUANTITY","CART_LOADING_TOGGLE","toggleCartLoading","payload","type","changeQuantity","connect","store","props","item","cartItems","find","el","id","element","dispatch","className","pic","src","alt","name","onClick","quantity","change","price","disabled","toFixed","ItemList","items","map","Input","label","value","register","required","placeholder","ref","useForm","handleSubmit","onSubmit","data","total","loading","cartLoading","useDispatch","useEffect","length","App","fetchNews","actionWatcher","rootSaga","put","fetch","headers","Accept","then","res","json","response","takeLatest","all","initialState","sagaMiddleware","createSagaMiddleware","createStore","state","action","fullPrice","forEach","newItem","Number","filter","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.14fca815.chunk.js","sourcesContent":["export const FETCH_CART = \"FETCH_CART\";\nexport const SET_CART = \"SET_CART\";\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const DELETE_FROM_CART = \"DELETE_FROM_CART\";\nexport const CHANGE_QUANTITY = \"CHANGE_QUANTITY\";\nexport const CART_LOADING_TOGGLE = \"CART_LOADING_TOGGLE\";\n\nexport const fetchCart = () => ({\n  type: FETCH_CART,\n});\n\nexport const toggleCartLoading = (payload) => ({\n  type: CART_LOADING_TOGGLE,\n  payload,\n});\n\nexport const setCart = (payload) => ({\n  type: SET_CART,\n  payload,\n});\n\nexport const changeQuantity = (payload) => ({\n  type: CHANGE_QUANTITY,\n  payload,\n});\n\nexport const addToCart = (payload) => ({\n  type: ADD_TO_CART,\n  payload,\n});\n\nexport const deleteFromCart = (payload) => ({\n  type: DELETE_FROM_CART,\n  payload,\n});\n","import \"./style.css\";\nimport { connect } from \"react-redux\";\nimport {\n  changeQuantity,\n  deleteFromCart,\n} from \"../../../../../Store/Actions/actions\";\n\nconst Item = ({ element, item, dispatch }) => {\n  const handleDecrement = () => {\n    if (item.quantity > 0) {\n      dispatch(\n        changeQuantity({ id: element.id, change: -1, price: element.price })\n      );\n    }\n  };\n  const handleIncrement = () => {\n    dispatch(\n      changeQuantity({ id: element.id, change: 1, price: element.price })\n    );\n  };\n\n  const handleDelete = () => {\n    dispatch(\n      deleteFromCart({\n        id: element.id,\n        quantity: item.quantity,\n        price: element.price,\n      })\n    );\n  };\n\n  return (\n    <div className={\"item\"}>\n      <div className={\"imgContainer\"}>\n        {element.pic && <img src={element.pic} alt={\"\"} />}\n        {!element.pic && (\n          <div className={\"noPic\"}>Picture will be added shortly</div>\n        )}\n      </div>\n      <div className={\"itemName\"}>{element.name}</div>\n      <div className={\"rightSide\"}>\n        <div className={\"controls\"}>\n          <button\n            className={\"button\"}\n            onClick={handleDecrement}\n            disabled={item.quantity <= 0}\n          >\n            -\n          </button>\n          <div className={\"counter\"}>{item.quantity}</div>\n          <button className={\"button\"} onClick={handleIncrement}>\n            +\n          </button>\n        </div>\n        <div className={\"total\"}>\n          Total: ${(item.quantity * element.price).toFixed(2)}\n        </div>\n        <button className={\"remove\"} onClick={handleDelete}>\n          Remove\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default connect((store, props) => ({\n  item: store.cartItems.find((el) => el.id === props.element.id),\n}))(Item);\n","import \"./style.css\"\nimport Item from \"./Item\";\n\nconst ItemList = ({items}) => {\n  return (<div className={\"itemList\"}>\n    {items.map((item) => (<Item key={item.id} element={item}/>))}\n  </div>)\n}\n\nexport default ItemList;\n","import React from \"react\";\nimport \"./style.css\";\n\nconst Input = ({\n  label = \"\",\n  type = \"string\",\n  value = \"\",\n  disabled = false,\n  register,\n  required = false,\n}) => {\n  return (\n    <input\n      className={\"input\"}\n      placeholder={label}\n      name={label}\n      type={type}\n      disabled={disabled}\n      ref={register({ required })}\n    />\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport \"./style.css\";\nimport Input from \"../../../UI/Input\";\nimport { useForm } from \"react-hook-form\";\nimport { addToCart } from \"../../../../Store/Actions/actions\";\nimport { connect } from \"react-redux\";\n\nconst NewItemForm = ({ dispatch }) => {\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = (data) => {\n    dispatch(addToCart(data));\n  };\n\n  return (\n    <form className={\"newItemForm\"} onSubmit={handleSubmit(onSubmit)}>\n      <div className={\"field\"}>\n        <Input label={\"name\"} register={register} required />\n      </div>\n      <div className={\"field\"}>\n        <Input label={\"quantity\"} register={register} required />\n      </div>\n      <div className={\"field\"}>\n        <Input label={\"price\"} register={register} required />\n      </div>\n      <button className={\"submitButton\"}>Add new product</button>\n    </form>\n  );\n};\n\nexport default connect()(NewItemForm);\n","import React, { useEffect } from \"react\";\nimport \"./style.css\";\nimport { connect } from \"react-redux\";\n\nconst Checkout = ({ element, total }) => {\n  return (\n    <div className={\"checkout\"}>\n      <div className={\"checkoutTotal\"}>Total: ${total}</div>\n      <button className={\"checkoutButton\"}>CHECKOUT</button>\n    </div>\n  );\n};\n\nexport default connect((store) => ({\n  total: store.total,\n}))(Checkout);\n","import React, { useEffect, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport ItemList from \"./ItemList\";\nimport NewItemForm from \"./NewItemForm\";\nimport Checkout from \"./Checkout\";\nimport { fetchCart } from \"../../../Store/Actions/actions\";\nimport \"./style.css\";\n\nconst ShoppingCart = ({ items, loading }) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCart());\n  }, []);\n\n  return (\n    <div className={\"shoppingCart\"}>\n      <div className={\"header\"}>SHOPPING CART</div>\n      <div className={\"midSection\"}>\n        {items.length > 0 && !loading && <ItemList items={items} />}\n        {!loading && items.length === 0 && <div>No items in cart</div>}\n        {loading && <div>Loading ...</div>}\n        <Checkout />\n      </div>\n      <NewItemForm />\n    </div>\n  );\n};\n\nexport default connect((store) => ({\n  items: store.cartItems,\n  loading: store.cartLoading,\n}))(ShoppingCart);\n","import ShoppingCart from './Components/Pages/ShoppingCart';\n\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <ShoppingCart />\n    </div>\n  );\n}\n\nexport default App;\n","import { put, takeLatest, all } from \"redux-saga/effects\";\nimport { FETCH_CART, setCart, toggleCartLoading } from \"../Actions/actions\";\n\nfunction* fetchNews() {\n  yield put(toggleCartLoading(true));\n  const response = yield fetch(\"/db.json\", {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n    },\n  }).then((res) => res.json());\n  yield put(toggleCartLoading(false));\n  yield put(setCart(response.items));\n}\n\nfunction* actionWatcher() {\n  yield takeLatest(FETCH_CART, fetchNews);\n}\n\nexport default function* rootSaga() {\n  yield all([actionWatcher()]);\n}\n","import {\n  SET_CART,\n  ADD_TO_CART,\n  DELETE_FROM_CART,\n  CHANGE_QUANTITY,\n  CART_LOADING_TOGGLE,\n} from \"../Actions/actions\";\n\nconst initialState = {\n  cartItems: [],\n  cartLoading: false,\n  total: 0,\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_CART:\n      let fullPrice = 0;\n      action.payload.forEach((el) => {\n        fullPrice += el.quantity * el.price;\n      });\n      return {\n        ...state,\n        cartItems: action.payload,\n        total: fullPrice.toFixed(2),\n      };\n    case CART_LOADING_TOGGLE:\n      return { ...state, cartLoading: action.payload };\n    case ADD_TO_CART:\n      const newItem = {\n        ...action.payload,\n        // pic:\n        //   \"https://icons.iconarchive.com/icons/papirus-team/papirus-status/512/image-missing-icon.png\",\n      };\n      return {\n        ...state,\n        total: (\n          Number(state.total) +\n          action.payload.price * action.payload.quantity\n        ).toFixed(2),\n        cartItems: [newItem, ...state.cartItems],\n      };\n    case DELETE_FROM_CART:\n      return {\n        ...state,\n        total: (\n          Number(state.total) -\n          action.payload.price * action.payload.quantity\n        ).toFixed(2),\n        cartItems: state.cartItems.filter((el) => el.id !== action.payload.id),\n      };\n    case CHANGE_QUANTITY:\n      return {\n        ...state,\n        total: (\n          Number(state.total) +\n          action.payload.change * Number(action.payload.price)\n        ).toFixed(2),\n        cartItems: state.cartItems.map((el) =>\n          el.id === action.payload.id\n            ? { ...el, quantity: Number(el.quantity) + action.payload.change }\n            : el\n        ),\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./Saga/cart.js\";\nimport cartReducer from \"./Reducers/reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default createStore(cartReducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./Store/store\";\nimport \"normalize.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}