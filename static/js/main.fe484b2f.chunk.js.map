{"version":3,"sources":["Store/Actions/actions.js","Components/Pages/ShoppingCart/ItemList/Item/index.jsx","Components/Pages/ShoppingCart/ItemList/index.jsx","Components/UI/Input/index.jsx","Components/Pages/ShoppingCart/NewItemForm/index.jsx","Components/Pages/ShoppingCart/Checkout/index.jsx","Components/Pages/ShoppingCart/index.jsx","App.js","Store/Saga/cart.js","Store/Reducers/reducers.js","Store/store.js","index.js"],"names":["FETCH_CART","SET_CART","ADD_TO_CART","DELETE_FROM_CART","CHANGE_QUANTITY","CART_LOADING_TOGGLE","toggleCartLoading","payload","type","changeQuantity","connect","store","props","item","cartItems","find","el","id","element","dispatch","className","pic","src","alt","name","onClick","quantity","change","price","disabled","toFixed","ItemList","items","map","Input","label","register","required","placeholder","ref","useForm","handleSubmit","onSubmit","data","total","loading","cartLoading","useDispatch","useEffect","length","App","style","height","backgroundColor","fetchItems","actionWatcher","rootSaga","put","axios","get","then","res","response","console","log","status","takeLatest","all","initialState","sagaMiddleware","createSagaMiddleware","createStore","state","action","fullPrice","forEach","newItem","Math","random","Number","filter","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fe484b2f.chunk.js","sourcesContent":["export const FETCH_CART = \"FETCH_CART\";\nexport const SET_CART = \"SET_CART\";\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const DELETE_FROM_CART = \"DELETE_FROM_CART\";\nexport const CHANGE_QUANTITY = \"CHANGE_QUANTITY\";\nexport const CART_LOADING_TOGGLE = \"CART_LOADING_TOGGLE\";\n\nexport const fetchCart = () => ({\n  type: FETCH_CART,\n});\n\nexport const toggleCartLoading = (payload) => ({\n  type: CART_LOADING_TOGGLE,\n  payload,\n});\n\nexport const setCart = (payload) => ({\n  type: SET_CART,\n  payload,\n});\n\nexport const changeQuantity = (payload) => ({\n  type: CHANGE_QUANTITY,\n  payload,\n});\n\nexport const addToCart = (payload) => ({\n  type: ADD_TO_CART,\n  payload,\n});\n\nexport const deleteFromCart = (payload) => ({\n  type: DELETE_FROM_CART,\n  payload,\n});\n","import { connect } from \"react-redux\";\n\nimport { changeQuantity, deleteFromCart } from \"Store/Actions/actions\";\n\nimport \"./style.css\";\n\nconst Item = ({ element, item, dispatch }) => {\n  const handleDecrement = () => {\n    if (item.quantity > 0) {\n      dispatch(\n        changeQuantity({ id: element.id, change: -1, price: element.price })\n      );\n    }\n  };\n  const handleIncrement = () => {\n    dispatch(\n      changeQuantity({ id: element.id, change: 1, price: element.price })\n    );\n  };\n\n  const handleDelete = () => {\n    dispatch(\n      deleteFromCart({\n        id: element.id,\n        quantity: item.quantity,\n        price: element.price,\n      })\n    );\n  };\n\n  return (\n    <div className={\"item\"}>\n      <div className={\"imgContainer\"}>\n        {element.pic && <img src={element.pic} alt={\"\"} />}\n        {!element.pic && (\n          <div className={\"noPic\"}>Image will be added shortly</div>\n        )}\n      </div>\n      <div className={\"itemName\"}>{element.name}</div>\n      <div className={\"rightSide\"}>\n        <div className={\"controls\"}>\n          <button\n            className={\"button\"}\n            onClick={handleDecrement}\n            disabled={item.quantity <= 0}\n          >\n            -\n          </button>\n          <div className={\"counter\"}>{item.quantity}</div>\n          <button className={\"button\"} onClick={handleIncrement}>\n            +\n          </button>\n        </div>\n        <div className={\"total\"}>\n          ${(item.quantity * element.price).toFixed(2)}\n        </div>\n        <button className={\"remove\"} onClick={handleDelete}>\n          Remove\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default connect((store, props) => ({\n  item: store.cartItems.find((el) => el.id === props.element.id),\n}))(Item);\n","import Item from \"./Item\";\n\nimport \"./style.css\";\n\nconst ItemList = ({ items }) => {\n  return (\n    <div className={\"itemList\"}>\n      {items.map((item) => (\n        <Item key={item.id} element={item} />\n      ))}\n    </div>\n  );\n};\n\nexport default ItemList;\n","import \"./style.css\";\n\nconst Input = ({\n  label = \"\",\n  type = \"string\",\n  disabled = false,\n  register,\n  required = false,\n}) => {\n  return (\n    <input\n      className={\"input\"}\n      placeholder={label}\n      name={label}\n      type={type}\n      disabled={disabled}\n      ref={register({ required })}\n    />\n  );\n};\n\nexport default Input;\n","import { connect } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\n\nimport Input from \"Components/UI/Input\";\n\nimport { addToCart } from \"Store/Actions/actions\";\n\nimport \"./style.css\";\n\nconst NewItemForm = ({ dispatch }) => {\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = (data) => {\n    dispatch(addToCart(data));\n  };\n\n  return (\n    <form className={\"newItemForm\"} onSubmit={handleSubmit(onSubmit)}>\n      <div className={\"field\"}>\n        <Input label={\"name\"} register={register} required />\n      </div>\n      <div className={\"field\"}>\n        <Input label={\"quantity\"} register={register} required />\n      </div>\n      <div className={\"field\"}>\n        <Input label={\"price\"} register={register} required />\n      </div>\n      <button className={\"submitButton\"}>Add new product</button>\n    </form>\n  );\n};\n\nexport default connect()(NewItemForm);\n","import { connect } from \"react-redux\";\n\nimport \"./style.css\";\n\nconst Checkout = ({ total }) => {\n  return (\n    <div className={\"checkout\"}>\n      <div className={\"checkoutTotal\"}>Total:</div>\n      <div className={\"number\"}>${total}</div>\n      <button className={\"checkoutButton\"}>CHECKOUT</button>\n    </div>\n  );\n};\n\nexport default connect((store) => ({\n  total: store.total,\n}))(Checkout);\n","import { useEffect } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\n\nimport ItemList from \"./ItemList\";\nimport NewItemForm from \"./NewItemForm\";\nimport Checkout from \"./Checkout\";\nimport { fetchCart } from \"Store/Actions/actions\";\n\nimport \"./style.css\";\n\nconst ShoppingCart = ({ items, loading }) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchCart());\n  }, []);\n\n  return (\n    <div className={\"shoppingCart\"}>\n      <div className={\"header\"}>SHOPPING CART</div>\n      <div className={\"midSection\"}>\n        {items.length > 0 && !loading && <ItemList items={items} />}\n        {!loading && items.length === 0 && (\n          <div className={\"emptyCart\"}>No items in cart</div>\n        )}\n        {loading && <div className={\"loading\"}>Loading ...</div>}\n        <Checkout />\n      </div>\n      <NewItemForm />\n    </div>\n  );\n};\n\nexport default connect((store) => ({\n  items: store.cartItems,\n  loading: store.cartLoading,\n}))(ShoppingCart);\n","import ShoppingCart from \"./Components/Pages/ShoppingCart\";\n\nconst App = () => {\n  return (\n    <div\n      className=\"App\"\n      style={{ height: \"100vh\", backgroundColor: \"#edf3f9\" }}\n    >\n      <ShoppingCart />\n    </div>\n  );\n};\n\nexport default App;\n","import { put, takeLatest, all, call } from \"redux-saga/effects\";\nimport { FETCH_CART, setCart, toggleCartLoading } from \"../Actions/actions\";\nimport axios from \"axios\";\n\nfunction* fetchItems() {\n  yield put(toggleCartLoading(true));\n  // const response = yield fetch(`./server/db.json`, {\n  //   headers: {\n  //     \"Content-Type\": \"application/json\",\n  //     Accept: \"application/json\",\n  //   },\n  // }).then((res) => res.json());\n  const response = yield axios.get(`/db.json`).then((res) => res);\n  console.log(response);\n  if (response.status !== 200) {\n    console.log(\"Couldn't get cart items\");\n  } else {\n    yield put(toggleCartLoading(false));\n    yield put(setCart(response.data.items));\n  }\n}\n\nfunction* actionWatcher() {\n  yield takeLatest(FETCH_CART, fetchItems);\n}\n\nexport default function* rootSaga() {\n  yield all([actionWatcher()]);\n}\n","import {\n  SET_CART,\n  ADD_TO_CART,\n  DELETE_FROM_CART,\n  CHANGE_QUANTITY,\n  CART_LOADING_TOGGLE,\n} from \"../Actions/actions\";\n\nexport const initialState = {\n  cartItems: [],\n  cartLoading: false,\n  total: 0,\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_CART:\n      let fullPrice = 0;\n      action.payload.forEach((el) => {\n        fullPrice += el.quantity * el.price;\n      });\n      return {\n        ...state,\n        cartItems: action.payload,\n        total: fullPrice.toFixed(2),\n      };\n    case CART_LOADING_TOGGLE:\n      return { ...state, cartLoading: action.payload };\n    case ADD_TO_CART:\n      const newItem = {\n        ...action.payload,\n        id: Math.random(),\n      };\n      return {\n        ...state,\n        total: (\n          Number(state.total) +\n          action.payload.price * action.payload.quantity\n        ).toFixed(2),\n        cartItems: [newItem, ...state.cartItems],\n      };\n    case DELETE_FROM_CART:\n      return {\n        ...state,\n        total: (\n          Number(state.total) -\n          action.payload.price * action.payload.quantity\n        ).toFixed(2),\n        cartItems: state.cartItems.filter((el) => el.id !== action.payload.id),\n      };\n    case CHANGE_QUANTITY:\n      return {\n        ...state,\n        total: (\n          Number(state.total) +\n          action.payload.change * Number(action.payload.price)\n        ).toFixed(2),\n        cartItems: state.cartItems.map((el) =>\n          el.id === action.payload.id\n            ? { ...el, quantity: Number(el.quantity) + action.payload.change }\n            : el\n        ),\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"./Saga/cart.js\";\nimport cartReducer from \"./Reducers/reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default createStore(cartReducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./Store/store\";\nimport \"normalize.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}